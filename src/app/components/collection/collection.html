<div class="container" ng-class="$ctrl.stateName">
  <div class="posts ng-cloak">
    <div ng-repeat="post in $ctrl.collection"
      class="posts-callout" ng-class="{sticky: post.sticky}">
      <a ng-if="post.featuredimage"
        ui-sref="single({year: post.year, month: post.month, slug: post.slug})">
        <img ng-if="post.sticky"
          ng-src="{{post.featuredimage[0].media_details.sizes.full.source_url}}"
          ng-attr-alt="{{post.better_featured_image.alt_text}}"
          class="posts-callout-thumbnail">
        <img ng-if="!post.sticky"
          ng-src="{{post.featuredimage[0].media_details.sizes.medium.source_url ||
          post.featuredimage[0].media_details.sizes.thumbnail.source_url}}"
          ng-attr-alt="{{post.better_featured_image.alt_text}}"
          class="posts-callout-thumbnail">
      </a>
      <div class="posts-callout-content">
        <h2 class="posts-callout-title" ng-hide="post.format === 'aside'">
          <a ng-hide="post.format === 'link'"
            ui-sref="single({slug: post.slug, year: post.year, month: post.month})"
            ng-bind-html="post.title.rendered"></a>
          <span ng-show="post.format === 'link'" ng-bind-html="post.title.rendered"></span>
        </h2>

        <div ng-hide="post.format === 'aside' || post.format === 'link'"
          class="post-callout-excerpt">
          <span ng-bind-html="post.excerpt.rendered"></span>
          <a ui-sref="single({slug: post.slug, year: post.year, month: post.month})">Read the post</a>
        </div>

        <div ng-show="post.format === 'aside' || post.format === 'link'"
          ng-bind-html="post.content.rendered"
          class="post-callout-excerpt"></div>
      </div>
      <post-meta
        state="$ctrl.stateName"
        date="post.date"
        categories="post.categories"
        tags="post.tags">
      </post-meta>
    </div>
  </div>
</div>
<div class="container ng-cloak">
  <pagination-links paging="$ctrl.collection._paging"></pagination-links>
  <hr>
</div>
